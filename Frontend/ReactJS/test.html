<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marketplace Frontend</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js"></script>
    <script src="app.js" defer></script>
  </head>
  
<body>
  <h1>Fund Factory</h1>

  <h2>Create Fund Pool</h2>
  <label for="tokenAddress">Token Address:</label>
  <input type="text" id="tokenAddress">
  <br>
  <label for="teamAddress">Team Address:</label>
  <input type="text" id="teamAddress">
  <br>
  <label for="cap">Cap:</label>
  <input type="number" id="cap">
  <br>
  <label for="kyc">KYC Required:</label>
  <input type="checkbox" id="kyc">
  <br>
  <button onclick="createFundPool()">Create Fund Pool</button>

  <h2>Get Fund Pool Address</h2>
  <label for="fundId">Fund ID:</label>
  <input type="number" id="fundId">
  <br>
  <button onclick="getFundPoolAddress()">Get Fund Pool Address</button>

  <script>
    // Replace with your actual contract address and ABI
    const contractAddress = 'YOUR_CONTRACT_ADDRESS';
    const contractABI = [
      // Add the ABI of the FundFactory contract here
    ];

    // Connect to the Ethereum network
    const provider = new ethers.providers.JsonRpcProvider('https://mainnet.infura.io/v3/YOUR_INFURA_PROJECT_ID');
    const signer = provider.getSigner();

    // Create an instance of the FundFactory contract
    const contract = new ethers.Contract(contractAddress, contractABI, signer);

    async function createFundPool() {
      const tokenAddress = document.getElementById('tokenAddress').value;
      const teamAddress = document.getElementById('teamAddress').value;
      const cap = document.getElementById('cap').value;
      const kycRequired = document.getElementById('kyc').checked;

      // Call the createFundPool function
      await contract.createFundPool(tokenAddress, teamAddress, cap, kycRequired);
      
      alert('Fund Pool created successfully!');
    }

    async function getFundPoolAddress() {
      const fundId = document.getElementById('fundId').value;

      // Call the getAddressOfId function
      const fundPoolAddress = await contract.getAddressOfId(fundId);

      alert(`Fund Pool Address: ${fundPoolAddress}`);
    }
  </script>
</body>
</html>
